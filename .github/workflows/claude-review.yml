name: Claude Code Review

on:
  pull_request:
    types: [opened, synchronize]
  issue_comment:
    types: [created]

permissions:
  actions: read
  contents: read
  id-token: write
  issues: write
  pull-requests: write

jobs:
  review:
    uses: JacobPEvans/ai-workflows/.github/workflows/claude-review.yml@v0.2.3
    with:
      review_prompt: "Focus on Nix flake patterns, module structure, system configuration best practices"
    secrets: inherit
