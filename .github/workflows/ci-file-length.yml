# File Size Check - Enforce documentation organization guidelines
# Uses file size (bytes) as proxy for token count.
# Limits: 8KB recommended, 16KB hard, 32KB extended, or exempt
name: File Size Check

on:
  push:
    branches: [main]
    paths: ['**.md', '**.nix']
  pull_request:
    paths: ['**.md', '**.nix']

env:
  EXTENDED: "CLAUDE ANTHROPIC-ECOSYSTEM TROUBLESHOOTING"
  EXEMPT: "RUNBOOK copilot-permissions-allow copilot-permissions-ask gemini-permissions-allow gemini-permissions-ask"

jobs:
  check:
    name: Check File Sizes
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6
      - name: Check file sizes
        run: ./scripts/workflows/check-file-sizes.sh "${{ env.EXTENDED }}" "${{ env.EXEMPT }}"
